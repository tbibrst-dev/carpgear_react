(()=>{"use strict";const e=window.wc.blocksCheckout,t=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"klaviyo/klaviyo-checkout-block","version":"0.1.0","title":"Klaviyo","category":"woocommerce","description":"Klaviyo\'s marketing consent checkbox.","supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"parent":["woocommerce/checkout-contact-information-block"],"textdomain":"klaviyo-checkout-block","editorScript":"file:./index.js","viewScript":"file:./frontend.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),o=window.wp.element,n=window.wc.wcSettings,{newsletterText:l,smsConsentText:c,smsConsentDisclosureText:s,smsEnabled:a,newsletterEnabled:r}=(0,n.getSetting)("klaviyo_checkout_block_data");(0,e.registerCheckoutBlock)({metadata:t,component:({checkoutExtensionData:t={}})=>{const[n,i]=(0,o.useState)(!1),[m,k]=(0,o.useState)(!1),{setExtensionData:u}=t;return(0,o.useEffect)((()=>{u&&a&&u("klaviyo","sms",m)}),[m,u]),(0,o.useEffect)((()=>{u&&r&&u("klaviyo","newsletter",n)}),[n,u]),r||a?(0,o.createElement)(o.Fragment,null,r&&(0,o.createElement)(e.CheckboxControl,{checked:n,onChange:i},(0,o.createElement)("span",null,l)),a&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(e.CheckboxControl,{checked:m,onChange:k},(0,o.createElement)("span",null,c)),m&&(0,o.createElement)("p",null,s))):null}})})();